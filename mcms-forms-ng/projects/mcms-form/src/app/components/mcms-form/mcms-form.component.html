<div *ngIf="isDebug" class="my-2">
  <button (click)="load()" class="btn btn-outline-secondary mr-2">Reinit</button>
  <button (click)="clearCache()" class="btn btn-outline-secondary">Clear open api config cache</button>
</div>


<ng-container *ngIf="state !== 'form-loading'">
  <div class="container-fluid">
    <form novalidate [formGroup]="form">
      <formly-form [fields]="fields"
                   [model]="model"
                   [form]="form"
                   [options]="formOptions"
                   class="row"></formly-form>
    </form>
  </div>
</ng-container>


<div class="d-flex justify-content-center py-5" *ngIf="state !== 'ready'">
  <div class="spinner-border text-primary" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
<div class="d-flex justify-content-end my-3">
  <button class="btn btn-primary submit-button" type="button" (click)="submit()"
          [hidden]="options && options.hideSubmitButton">
    Submit
  </button>
</div>


<div class="row" *ngIf="viewInit && isDebug">
  <mcms-form-debug [fields]="fieldsClone"
                   [valid]="form.valid"
                   [model]="model"
                   [formState]="formOptions.formState"></mcms-form-debug>
</div>
