<div *ngIf="isDebug" class="ml-2 my-2 d-inline-block">
  <button (click)="load()" class="btn btn-outline-secondary mr-2">Reinit</button>
  <button (click)="clearCache()" class="btn btn-outline-secondary mr-2">Clear open api config cache</button>
  <button (click)="reloadPage()" class="btn btn-outline-secondary mr-2">Reload Page</button>
</div>


<ng-container *ngIf="state !== 'form-loading'">
  <div class="container-fluid">
    <form novalidate [formGroup]="form">
      <formly-form [fields]="fields"
                   [model]="model"
                   [form]="form"
                   [options]="formOptions"
                   class="row"></formly-form>
    </form>
  </div>
</ng-container>

<ng-container *ngIf="options.spinner === 'inside-form'">
  <div class="d-flex justify-content-center py-5" *ngIf="state !== 'ready'">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-container>

<div class="d-nf-flex justify-content-end my-3" [hidden]="options?.hideSubmitButton">
  <button class="btn btn-primary submit-button" type="button" (click)="submit()">
    Submit
  </button>
</div>


<div class="row" *ngIf="viewInit && isDebug">
  <mcms-form-debug [fields]="fieldsClone"
                   [valid]="form.valid"
                   [model]="model"
                   [formState]="formOptions.formState"
                   [options]="options"
  ></mcms-form-debug>
</div>
